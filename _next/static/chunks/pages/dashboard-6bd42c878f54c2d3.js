(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26],{528:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return r(6401)}])},7963:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(5893),s=r(7294),a=r(9133),o=r(7526),l=r(7796);let u=[{code:"ru",name:"Русский",flag:"\uD83C\uDDF7\uD83C\uDDFA"},{code:"en",name:"English",flag:"\uD83C\uDDEC\uD83C\uDDE7"},{code:"es",name:"Espa\xf1ol",flag:"\uD83C\uDDEA\uD83C\uDDF8"}];function i(){let e=(0,a.T)(),t=(0,a.C)(l.Kh),[r,i]=(0,s.useState)(!1),c=(0,s.useRef)(null),d=u.find(e=>e.code===t)||u[0];(0,s.useEffect)(()=>{function e(e){c.current&&!c.current.contains(e.target)&&i(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let p=t=>{e((0,o.om)(t)),i(!1)};return(0,n.jsxs)("div",{className:"relative",ref:c,children:[(0,n.jsxs)("button",{onClick:()=>i(!r),className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-md transition-colors border border-gray-300",children:[(0,n.jsx)("span",{children:d.flag}),(0,n.jsx)("span",{children:d.code.toUpperCase()}),(0,n.jsx)("svg",{className:"w-4 h-4 transition-transform ".concat(r?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),r&&(0,n.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg border border-gray-200 py-1 z-50",children:u.map(e=>(0,n.jsxs)("button",{onClick:()=>p(e.code),className:"w-full flex items-center gap-3 px-4 py-2 text-sm hover:bg-gray-100 transition-colors ".concat(t===e.code?"bg-blue-50 text-[#1e3a8a] font-medium":"text-gray-700"),children:[(0,n.jsx)("span",{className:"text-xl",children:e.flag}),(0,n.jsx)("span",{children:e.name}),t===e.code&&(0,n.jsx)("svg",{className:"w-4 h-4 ml-auto text-[#1e3a8a]",fill:"currentColor",viewBox:"0 0 20 20",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},e.code))})]})}},6401:function(e,t,r){"use strict";r.r(t);var n=r(5893),s=r(7294),a=r(1163),o=r(9133),l=r(3031),u=r(803),i=r(7963);t.default=()=>{let e=(0,a.useRouter)(),t=(0,o.T)(),{user:r,isAuthenticated:c}=(0,o.C)(e=>e.auth);return((0,s.useEffect)(()=>{c||e.push("/auth/login")},[c,e]),c)?(0,n.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,n.jsx)("header",{className:"bg-white shadow",children:(0,n.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8 flex justify-between items-center",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Личный кабинет"}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)(i.Z,{}),(0,n.jsx)("button",{onClick:()=>{t((0,l.kS)()),u.VH.remove(),e.push("/auth/login")},className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-md transition-colors",children:"Выйти"})]})]})}),(0,n.jsxs)("main",{className:"max-w-7xl mx-auto px-4 py-8 sm:px-6 lg:px-8",children:[(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[(0,n.jsxs)("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:["Добро пожаловать, ",(null==r?void 0:r.firstName)||"Пользователь","!"]}),(0,n.jsxs)("p",{className:"text-gray-600",children:["Email: ",(null==r?void 0:r.email)||"Не указан"]})]}),(0,n.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,n.jsxs)("button",{className:"flex items-center space-x-3 p-4 rounded-lg bg-purple-50 hover:bg-purple-100 transition-colors text-left group border border-purple-200",onClick:()=>e.push("/courses"),children:[(0,n.jsx)("span",{className:"text-3xl",children:"\uD83D\uDCDA"}),(0,n.jsx)("span",{className:"text-base font-medium text-gray-800 group-hover:text-purple-600",children:"Мои курсы"})]}),(0,n.jsxs)("button",{className:"flex items-center space-x-3 p-4 rounded-lg bg-purple-50 hover:bg-purple-100 transition-colors text-left group border border-purple-200",onClick:()=>e.push("/exercises"),children:[(0,n.jsx)("span",{className:"text-3xl",children:"\uD83C\uDFCB️"}),(0,n.jsx)("span",{className:"text-base font-medium text-gray-800 group-hover:text-purple-600",children:"Упражнения"})]}),(0,n.jsxs)("button",{className:"flex items-center space-x-3 p-4 rounded-lg bg-purple-50 hover:bg-purple-100 transition-colors text-left group border border-purple-200",onClick:()=>e.push("/photo-diary"),children:[(0,n.jsx)("span",{className:"text-3xl",children:"\uD83D\uDCF8"}),(0,n.jsx)("span",{className:"text-base font-medium text-gray-800 group-hover:text-purple-600",children:"Фото-дневник"})]}),(0,n.jsxs)("button",{className:"flex items-center space-x-3 p-4 rounded-lg bg-purple-50 hover:bg-purple-100 transition-colors text-left group border border-purple-200",onClick:()=>e.push("/profile"),children:[(0,n.jsx)("span",{className:"text-3xl",children:"\uD83D\uDC64"}),(0,n.jsx)("span",{className:"text-base font-medium text-gray-800 group-hover:text-purple-600",children:"Профиль"})]})]})}),(0,n.jsxs)("div",{className:"mt-6 bg-white rounded-lg shadow",children:[(0,n.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Последняя активность"})}),(0,n.jsx)("div",{className:"p-6",children:(0,n.jsxs)("div",{className:"text-center text-gray-500 py-8",children:[(0,n.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),(0,n.jsx)("p",{className:"mt-2",children:"Активности пока нет"}),(0,n.jsx)("p",{className:"text-sm",children:"Начните с выбора курса!"})]})})]})]})]}):(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,n.jsx)("p",{className:"mt-4 text-gray-600",children:"Загрузка..."})]})})}},7796:function(e,t,r){"use strict";r.d(t,{JB:function(){return m},Kh:function(){return p},LJ:function(){return x},aJ:function(){return i},gi:function(){return h},h3:function(){return v},ks:function(){return u},sy:function(){return o},z5:function(){return f}});var n=r(8697);let s=e=>e.courses,a=(0,n.P1)([s],e=>e.myOrders),o=a,l=(0,n.P1)([a],e=>e.filter(e=>"Approved"===e.orderStatus||"Active"===e.status||!0===e.isPurchased)),u=(0,n.P1)([s],e=>e.loadingOrders);(0,n.P1)([s],e=>e.ordersError);let i=(0,n.P1)([s],e=>e.activatingOrderId),c=(0,n.P1)([s],e=>e.availableCourses),d=(0,n.P1)([s],e=>e.demoCourses);(0,n.P1)([c,d],(e,t)=>[...e,...t]);let p=(0,n.P1)([s],e=>e.selectedLanguage),x=(0,n.P1)([c,p],(e,t)=>e.filter(e=>e.languageCulture===t)),m=(0,n.P1)([d,p],(e,t)=>e.filter(e=>e.languageCulture===t)),h=(0,n.P1)([s],e=>e.loadingCourses);(0,n.P1)([s],e=>e.coursesError);let f=(0,n.P1)([s],e=>e.selectedCourse);(0,n.P1)([s],e=>e.coursePlans),(0,n.P1)([s],e=>e.loadingDetails),(0,n.P1)([s],e=>e.detailsError);let g=(0,n.P1)([s],e=>e.marathons);(0,n.P1)([s],e=>e.loadingMarathon),(0,n.P1)([s],e=>e.marathonError);let v=(0,n.P1)([l,g],(e,t)=>e.map(e=>{var r,n,s;let a=e.wpMarathonId||e.marathonId||e.id;return{...e,marathonId:a,marathon:t[a],progress:(null===(r=t[a])||void 0===r?void 0:r.progress)||0,completedDays:(null===(n=t[a])||void 0===n?void 0:n.completedDays)||0,totalDays:(null===(s=t[a])||void 0===s?void 0:s.totalDays)||e.days||0}}))},8697:function(e,t,r){"use strict";r.d(t,{P1:function(){return a}});var n="NOT_FOUND",s=function(e,t){return e===t},a=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return function(){for(var t,n=arguments.length,s=Array(n),a=0;a<n;a++)s[a]=arguments[a];var o=0,l={memoizeOptions:void 0},u=s.pop();if("object"==typeof u&&(l=u,u=s.pop()),"function"!=typeof u)throw Error("createSelector expects an output function after the inputs, but received: ["+typeof u+"]");var i=l.memoizeOptions,c=void 0===i?r:i,d=Array.isArray(c)?c:[c],p=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e}))throw Error("createSelector expects all input-selectors to be functions, but received the following types: ["+t.map(function(e){return"function"==typeof e?"function "+(e.name||"unnamed")+"()":typeof e}).join(", ")+"]");return t}(s),x=e.apply(void 0,[function(){return o++,u.apply(null,arguments)}].concat(d)),m=e(function(){for(var e=[],r=p.length,n=0;n<r;n++)e.push(p[n].apply(null,arguments));return t=x.apply(null,e)});return Object.assign(m,{resultFunc:u,memoizedResultFunc:x,dependencies:p,lastResult:function(){return t},recomputations:function(){return o},resetRecomputations:function(){return o=0}}),m}}(function(e,t){var r,a,o="object"==typeof t?t:{equalityCheck:t},l=o.equalityCheck,u=o.maxSize,i=void 0===u?1:u,c=o.resultEqualityCheck,d=(r=void 0===l?s:l,function(e,t){if(null===e||null===t||e.length!==t.length)return!1;for(var n=e.length,s=0;s<n;s++)if(!r(e[s],t[s]))return!1;return!0}),p=1===i?{get:function(e){return a&&d(a.key,e)?a.value:n},put:function(e,t){a={key:e,value:t}},getEntries:function(){return a?[a]:[]},clear:function(){a=void 0}}:function(e,t){var r=[];function s(e){var s=r.findIndex(function(r){return t(e,r.key)});if(s>-1){var a=r[s];return s>0&&(r.splice(s,1),r.unshift(a)),a.value}return n}return{get:s,put:function(t,a){s(t)===n&&(r.unshift({key:t,value:a}),r.length>e&&r.pop())},getEntries:function(){return r},clear:function(){r=[]}}}(i,d);function x(){var t=p.get(arguments);if(t===n){if(t=e.apply(null,arguments),c){var r=p.getEntries().find(function(e){return c(e.value,t)});r&&(t=r.value)}p.put(arguments,t)}return t}return x.clearCache=function(){return p.clear()},x})}},function(e){e.O(0,[888,774,179],function(){return e(e.s=528)}),_N_E=e.O()}]);