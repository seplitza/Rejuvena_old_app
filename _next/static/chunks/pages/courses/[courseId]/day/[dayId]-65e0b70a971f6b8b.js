(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[431],{694:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/courses/[courseId]/day/[dayId]",function(){return r(2824)}])},440:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var s=r(5893);r(7294);var l=r(1163),o=r(9133),n=r(5689);let a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?e>=200?5:e>=150?4:e>=100?3:e>=50?2:e>=1?1:0:e>=100?3:e>=50?2:e>=1?1:0},i=e=>{let{rating:t,maxStars:r=5}=e;return(0,s.jsx)("div",{className:"flex items-center justify-center space-x-0.5",children:Array.from({length:r}).map((e,r)=>{let l=r+1;return(0,s.jsx)("svg",{className:"w-3 h-3 ".concat(l<=t?"text-yellow-400 fill-current":"text-gray-300"),viewBox:"0 0 20 20",children:(0,s.jsx)("path",{d:"M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"})},l)})})};function d(e){let{marathonId:t,currentDayId:r}=e,d=(0,l.useRouter)(),c=(0,o.C)(n.h6),u=(null==c?void 0:c.marathonDays)||[],p=(null==c?void 0:c.greatExtensionDays)||[];console.log("\uD83D\uDCCB DaysList - Current day ID:",r),console.log("\uD83D\uDCCB DaysList - Marathon days:",u.map(e=>({id:e.id,day:e.day,progress:e.progress}))),console.log("\uD83D\uDCCB DaysList - Practice days:",p.map(e=>({id:e.id,day:e.day,progress:e.progress})));let x=e=>{d.push("/courses/".concat(t,"/day/").concat(e))};return 0==[...u,...p].length?null:(0,s.jsxs)("div",{className:"mt-8 bg-white rounded-2xl shadow-lg p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"Пройденные дни"}),(0,s.jsx)("button",{onClick:()=>d.push("/courses/".concat(t,"/start")),className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all shadow-md hover:shadow-lg",children:"СТАРТ"})]}),u.length>0&&(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-purple-600 mb-3",children:"Обучение"}),(0,s.jsx)("div",{className:"grid grid-cols-7 gap-2",children:u.map(e=>{let t=e.id===r,l=a(e.progress||0,!1);return(0,s.jsxs)("button",{onClick:()=>x(e.id),disabled:e.isLocked,className:"\n                    relative p-3 rounded-lg border-2 transition-all\n                    ".concat(t?"border-purple-500 bg-purple-50":e.isLocked?"border-gray-200 bg-gray-50 cursor-not-allowed":"border-gray-200 hover:border-purple-300 hover:shadow-md cursor-pointer","\n                  "),children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-xs font-semibold mb-1 ".concat(t?"text-purple-700":"text-gray-600"),children:"День"}),(0,s.jsx)("div",{className:"text-lg font-bold ".concat(t?"text-purple-700":"text-gray-800"),children:e.day})]}),l>0&&(0,s.jsx)("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2",children:(0,s.jsx)(i,{rating:l,maxStars:3})}),e.isLocked&&(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})})})]},e.id)})})]}),p.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-orange-600 mb-3",children:"Практика"}),(0,s.jsx)("div",{className:"grid grid-cols-7 gap-2",children:p.map(e=>{let t=e.id===r,l=a(e.progress||0,!0);return(0,s.jsxs)("button",{onClick:()=>x(e.id),disabled:e.isLocked,className:"\n                    relative p-3 rounded-lg border-2 transition-all\n                    ".concat(t?"border-orange-500 bg-orange-50":e.isLocked?"border-gray-200 bg-gray-50 cursor-not-allowed":"border-gray-200 hover:border-orange-300 hover:shadow-md cursor-pointer","\n                  "),children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-xs font-semibold mb-1 ".concat(t?"text-orange-700":"text-gray-600"),children:"День"}),(0,s.jsx)("div",{className:"text-lg font-bold ".concat(t?"text-orange-700":"text-gray-800"),children:e.day})]}),l>0&&(0,s.jsx)("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2",children:(0,s.jsx)(i,{rating:l,maxStars:5})}),e.isLocked&&(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})})})]},e.id)})})]})]})}},2824:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return _}});var s=r(5893),l=r(7294),o=r(1163),n=r(9133),a=r(5689),i=r(7369),d=r(8697);let c=e=>e.auth;(0,d.P1)(c,e=>e.isAuthenticated),(0,d.P1)(c,e=>e.token),(0,d.P1)(c,e=>e.user);let u=(0,d.P1)(c,e=>e.user);(0,d.P1)(c,e=>e.loading),(0,d.P1)(c,e=>e.error);var p=r(7796),x=r(1980),m=r(8207),h=r(5675),b=r.n(h),g=r(3031);function v(e){return e.replace(/[\uFE00-\uFE0F]/g,"").replace(/\u200D/g,"")}function f(e){let{isOpen:t,onClose:r}=e,l=(0,o.useRouter)(),a=(0,n.T)(),i=e=>{l.push(e),r()};return(0,s.jsxs)(s.Fragment,{children:[t&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 z-40 transition-opacity",onClick:r}),(0,s.jsxs)("div",{className:"fixed top-0 right-0 h-full w-80 max-w-[85vw] bg-white shadow-2xl z-50 transform transition-transform duration-300 ease-in-out ".concat(t?"translate-x-0":"translate-x-full"),children:[(0,s.jsxs)("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h2",{className:"text-xl font-bold",children:"Меню"}),(0,s.jsx)("button",{onClick:r,className:"p-2 hover:bg-white/10 rounded-lg transition-colors","aria-label":"Закрыть меню",children:(0,s.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,s.jsx)("p",{className:"text-sm opacity-90",children:"Rejuvena - Естественное омоложение"})]}),(0,s.jsxs)("nav",{className:"p-4 space-y-2",children:[[{label:"Личная информация",path:"/profile",icon:"\uD83D\uDC64"},{label:"Фотодневник",path:"/photo-diary",icon:"\uD83D\uDCF8"},{label:"Мои заказы",path:"/orders",icon:"\uD83D\uDCE6"},{label:"Лучшие результаты",path:"/results",icon:"\uD83C\uDFC6"},{label:"Уведомления",path:"/notifications",icon:"\uD83D\uDD14"},{label:"Обратная связь",path:"/feedback",icon:"\uD83D\uDCAC"}].map(e=>(0,s.jsxs)("button",{onClick:()=>i(e.path),className:"w-full flex items-center space-x-3 p-3 rounded-lg hover:bg-purple-50 transition-colors text-left group",children:[(0,s.jsx)("span",{className:"text-2xl",children:v(e.icon)}),(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)("span",{className:"text-gray-800 group-hover:text-purple-600 font-medium",children:e.label})}),(0,s.jsx)("svg",{className:"w-5 h-5 text-gray-400 group-hover:text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]},e.path)),(0,s.jsx)("div",{className:"border-t border-gray-200 my-4"}),(0,s.jsxs)("button",{onClick:()=>{a((0,g.kS)()),l.push("/"),r()},className:"w-full flex items-center space-x-3 p-3 rounded-lg hover:bg-red-50 transition-colors text-left group",children:[(0,s.jsx)("span",{className:"text-2xl",children:v("\uD83D\uDEAA")}),(0,s.jsx)("span",{className:"text-gray-800 group-hover:text-red-600 font-medium",children:"Выйти"})]})]})]})]})}function j(){let[e,t]=(0,l.useState)(!1),r=(0,o.useRouter)(),{courseId:i}=r.query,d=(0,n.C)(a.ay);(0,n.C)(a.cx);let c=(0,n.C)(u),h=(0,n.C)(p.sy).find(e=>e.id===i||e.marathonId===i);if(!d||!h)return null;let{day:g,dayDate:v}=d,j=v?(0,x.WU)(new Date(v),"d MMMM ''yy",{locale:m.ru}):"",y=g>14,w=(null==c?void 0:c.profilePicture)||(null==c?void 0:c.avatar)||"/images/default-avatar.png";return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f,{isOpen:e,onClose:()=>t(!1)}),(0,s.jsx)("header",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto px-3 py-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[(0,s.jsx)("button",{onClick:()=>r.back(),className:"p-2 hover:bg-white/10 rounded-lg transition-colors flex-shrink-0","aria-label":"Назад",children:(0,s.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),h.imagePath&&(0,s.jsx)("div",{className:"relative w-10 h-10 rounded-lg overflow-hidden flex-shrink-0 bg-white/10",children:(0,s.jsx)(b(),{src:h.imagePath,alt:h.title,fill:!0,className:"object-cover"})}),(0,s.jsx)("div",{className:"flex-1 min-w-0",children:(0,s.jsx)("h1",{className:"text-base font-bold truncate",children:h.title})})]}),(0,s.jsx)("button",{onClick:()=>t(!0),className:"p-2 hover:bg-white/10 rounded-lg transition-colors flex-shrink-0","aria-label":"Меню",children:(0,s.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),(0,s.jsxs)("div",{className:"mt-3 flex items-center justify-between bg-white/10 rounded-lg p-2 backdrop-blur-sm",children:[(0,s.jsx)("div",{className:"flex items-center space-x-2",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-xs font-medium opacity-80",children:"день"}),(0,s.jsx)("p",{className:"text-2xl font-bold leading-none",children:g}),(0,s.jsx)("p",{className:"text-xs font-medium opacity-80",children:y?"практика":"обучение"})]})}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"text-right",children:(0,s.jsx)("p",{className:"text-xs font-medium opacity-90",children:j})}),(0,s.jsx)("div",{className:"relative w-10 h-10 rounded-full overflow-hidden border-2 border-white/30 flex-shrink-0",children:(0,s.jsx)(b(),{src:w,alt:"User avatar",fill:!0,className:"object-cover"})})]})]})]})})]})}var y=r(645),w=r.n(y);let N=/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/,k=/vimeo\.com\/(\d+)/,C=/vk\.com\/video(-?\d+_\d+)/;function D(e){let{video:t}=e;switch(t.type){case"youtube":case"vimeo":case"vk":return(0,s.jsx)("div",{className:"w-full mb-4",children:(0,s.jsxs)("div",{className:"jsx-c7c9bb57b0888a04 w-full aspect-video relative overflow-hidden rounded-none md:rounded-lg",children:[(0,s.jsx)("iframe",{src:t.url,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"jsx-c7c9bb57b0888a04 w-full h-full"}),(0,s.jsx)("div",{style:{height:"20%",zIndex:10},onClick:e=>e.stopPropagation(),className:"jsx-c7c9bb57b0888a04 absolute top-0 left-0 right-0 pointer-events-auto bg-transparent"}),"youtube"===t.type?(0,s.jsx)("div",{style:{right:"48px",width:"100px",height:"48px",zIndex:10},onClick:e=>e.stopPropagation(),className:"jsx-c7c9bb57b0888a04 absolute bottom-0 pointer-events-auto bg-transparent"}):"vimeo"===t.type?(0,s.jsx)("div",{style:{width:"80px",height:"80px",zIndex:10},onClick:e=>e.stopPropagation(),className:"jsx-c7c9bb57b0888a04 absolute bottom-0 right-0 pointer-events-auto bg-transparent"}):null,(0,s.jsx)(w(),{id:"c7c9bb57b0888a04",children:'iframe.jsx-c7c9bb57b0888a04{pointer-events:auto}.vp-sidedock,.vp-title,.vp-byline,.vp-portrait,.vp-badge{display:none!important}iframe[src*="youtube.com"]{position:relative}'})]})});case"mp4":return(0,s.jsx)("div",{className:"w-full mb-4",children:(0,s.jsx)("video",{src:t.url,controls:!0,className:"w-full aspect-video object-contain rounded-none md:rounded-lg"})});case"telegram":return(0,s.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg mb-4",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Видео из Telegram:"}),(0,s.jsx)("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"text-[#F79700] hover:underline break-all",children:t.url})]});default:return null}}function F(){let e=(0,n.C)(a.ay),{videos:t,cleanedHtml:r}=(0,l.useMemo)(()=>(null==e?void 0:e.description)?{videos:function(e){let t=[];for(let r of e.matchAll(RegExp(N,"g"))){let e=encodeURIComponent(window.location.origin);t.push({type:"youtube",url:"https://www.youtube.com/embed/".concat(r[1],"?modestbranding=1&rel=0&showinfo=0&fs=1&controls=1&disablekb=0&iv_load_policy=3&cc_load_policy=0&playsinline=1&origin=").concat(e),id:r[1]})}for(let r of e.matchAll(RegExp(k,"g")))t.push({type:"vimeo",url:"https://player.vimeo.com/video/".concat(r[1],"?title=0&byline=0&portrait=0&badge=0&autopause=0&player_id=0&dnt=1&controls=1&transparent=0"),id:r[1]});for(let r of e.matchAll(RegExp(C,"g")))t.push({type:"vk",url:"https://vk.com/video_ext.php?oid=".concat(r[1].split("_")[0],"&id=").concat(r[1].split("_")[1]),id:r[1]});for(let r of e.matchAll(/(?:src|href)=["']([^"']+\.mp4)["']/g))t.push({type:"mp4",url:r[1]});for(let r of e.matchAll(/(?:src|href)=["'](https?:\/\/t\.me\/[^"']+)["']/g))t.push({type:"telegram",url:r[1]});return t}(e.description),cleanedHtml:e.description.replace(/<a[^>]*href=".*?froala.*?"[^>]*>.*?<\/a>/gi,"").replace(/<div[^>]*data-f-id[^>]*>.*?<\/div>/gi,"").replace(/Powered by Froala Editor/gi,"")}:{videos:[],cleanedHtml:""},[null==e?void 0:e.description]);return e?(0,s.jsxs)("div",{className:"jsx-941e5b0487659eba bg-white rounded-2xl shadow-lg p-6",children:[(0,s.jsxs)("div",{style:{height:"400px",scrollbarWidth:"thin",scrollbarColor:"#CBD5E0 #F7FAFC"},className:"jsx-941e5b0487659eba overflow-y-auto pr-2",children:[t.length>0&&(0,s.jsx)("div",{className:"jsx-941e5b0487659eba mb-6 space-y-4",children:t.map((e,t)=>(0,s.jsx)(D,{video:e},"".concat(e.type,"-").concat(e.id||t)))}),(0,s.jsx)("div",{dangerouslySetInnerHTML:{__html:r},className:"jsx-941e5b0487659eba prose prose-sm max-w-none\n            prose-headings:text-purple-900 prose-headings:font-bold\n            prose-p:text-gray-700 prose-p:leading-relaxed\n            prose-a:text-purple-600 prose-a:no-underline hover:prose-a:underline\n            prose-strong:text-gray-900 prose-strong:font-semibold\n            prose-ul:list-disc prose-ol:list-decimal\n            prose-li:text-gray-700 prose-li:my-1\n            prose-img:rounded-lg prose-img:shadow-md\n            prose-blockquote:border-l-4 prose-blockquote:border-purple-400 prose-blockquote:pl-4 prose-blockquote:italic"})]}),(0,s.jsx)(w(),{id:"941e5b0487659eba",children:"div.jsx-941e5b0487659eba::-webkit-scrollbar{width:8px}div.jsx-941e5b0487659eba::-webkit-scrollbar-track{background:#F7FAFC;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}div.jsx-941e5b0487659eba::-webkit-scrollbar-thumb{background:#CBD5E0;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}div.jsx-941e5b0487659eba::-webkit-scrollbar-thumb:hover{background:#A0AEC0}"})]}):null}function P(e){let{exercise:t,uniqueId:r,isActive:l,isDone:o,isChanging:n,onToggle:a,onCheck:i,onDetailClick:d}=e,{exerciseName:c,marathonExerciseName:u,isNew:p,blockExercise:x}=t;return(0,s.jsxs)("div",{className:"border-2 rounded-lg transition-all ".concat(x?"bg-gray-100 border-gray-300":p?"bg-green-50 border-green-300":o?"bg-purple-50 border-purple-300":"bg-white border-gray-200"," ").concat(x?"opacity-60 cursor-not-allowed":"hover:shadow-md"),children:[(0,s.jsxs)("div",{className:"flex items-center p-3 space-x-3",children:[(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),i()},disabled:x||n,className:"flex-shrink-0 w-6 h-6 rounded border-2 flex items-center justify-center transition-all ".concat(x?"border-gray-300 cursor-not-allowed":o?"bg-purple-600 border-purple-600":"border-gray-400 hover:border-purple-600"),children:n?(0,s.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-purple-600"}):o?(0,s.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})}):null}),(0,s.jsx)("button",{onClick:a,disabled:x,className:"flex-1 text-left min-w-0 ".concat(x?"cursor-not-allowed":"cursor-pointer"),children:(0,s.jsxs)("p",{className:"text-sm font-medium ".concat(x?"text-gray-400":o?"text-gray-500":"text-gray-900"," truncate"),children:[(0,s.jsx)("span",{className:"font-bold",children:c})," ",u]})}),p&&!x&&(0,s.jsx)("span",{className:"flex-shrink-0 px-2 py-1 text-xs font-medium text-green-700 bg-green-100 rounded-full",children:"Новое"}),(0,s.jsx)("button",{onClick:a,disabled:x,className:"flex-shrink-0 text-gray-400 transition-transform ".concat(l?"rotate-180":""," ").concat(x?"cursor-not-allowed":"hover:text-gray-600"),children:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),l&&!x&&(0,s.jsx)("div",{className:"px-3 pb-3 border-t border-gray-200",children:(0,s.jsxs)("div",{className:"pt-3 space-y-3",children:[t.description&&(0,s.jsx)("p",{className:"text-sm text-gray-600 line-clamp-3",children:t.description}),(0,s.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[t.type&&(0,s.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 4v16M17 4v16M3 8h4m10 0h4M3 12h18M3 16h4m10 0h4M4 20h16a1 1 0 001-1V5a1 1 0 00-1-1H4a1 1 0 00-1 1v14a1 1 0 001 1z"})}),(0,s.jsx)("span",{children:"Video"===t.type?"Видео":"Reading"===t.type?"Теория":"Практика"})]}),t.duration>0&&(0,s.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,s.jsxs)("span",{children:[Math.floor(t.duration/60)," мин"]})]}),t.commentsCount>0&&(0,s.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})}),(0,s.jsxs)("span",{children:[t.commentsCount," комментариев"]})]})]}),(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),d()},className:"w-full px-4 py-2 text-sm font-medium text-purple-600 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors",children:"Посмотреть детали"})]})})]})}function L(e){var t,r;let{exercise:o,isOpen:n,onClose:a,onCheckboxChange:i,isDone:d}=e,[c,u]=(0,l.useState)(!1),[p,x]=(0,l.useState)(0),[m,h]=(0,l.useState)([]);if((0,l.useEffect)(()=>{let e=e=>{"Escape"===e.key&&a()};return n&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[n,a]),(0,l.useEffect)(()=>{o&&(h((o.exerciseContents||[]).filter(e=>"video"===e.type||"image"===e.type).map(e=>{let t={id:e.id||Math.random().toString(),type:e.type,contentPath:e.contentPath,loadError:!1};if("video"===e.type){let{embedUrl:r,type:s}=function(e){var t,r,s,l,o,n,a,i;if(!e)return{embedUrl:"",type:"iframe"};if(e.match(/\.(mp4|webm|ogg|mov)$/i))return{embedUrl:e,type:"video"};if(e.includes("player.vimeo.com/video/")){let r=null===(t=e.split("player.vimeo.com/video/")[1])||void 0===t?void 0:t.split("?")[0];return{embedUrl:"https://player.vimeo.com/video/".concat(r,"?title=0&byline=0&portrait=0&badge=0&autopause=0&player_id=0&dnt=1&controls=1&transparent=0"),type:"iframe"}}if(e.includes("youtube.com/embed/")){let t=null===(r=e.split("youtube.com/embed/")[1])||void 0===r?void 0:r.split("?")[0];return{embedUrl:"https://www.youtube.com/embed/".concat(t,"?modestbranding=1&rel=0&showinfo=0&fs=1&controls=1&disablekb=0&iv_load_policy=3&cc_load_policy=0&playsinline=1&origin=").concat(encodeURIComponent(window.location.origin)),type:"iframe"}}if(e.includes("rutube.ru/play/embed/")||e.includes("vk.com/video_ext.php")||e.includes("dzen.ru/embed/"))return{embedUrl:e,type:"iframe"};if(e.includes("youtube.com")||e.includes("youtu.be")){let t=e.includes("youtu.be")?null===(s=e.split("youtu.be/")[1])||void 0===s?void 0:s.split("?")[0]:new URL(e).searchParams.get("v");return{embedUrl:"https://www.youtube.com/embed/".concat(t,"?modestbranding=1&rel=0&showinfo=0&fs=1&controls=1&disablekb=0&iv_load_policy=3&cc_load_policy=0&playsinline=1&origin=").concat(encodeURIComponent(window.location.origin)),type:"iframe"}}if(e.includes("vimeo.com")&&!e.includes("player.vimeo.com")){let t=null===(l=e.split("vimeo.com/")[1])||void 0===l?void 0:l.split("?")[0];return{embedUrl:"https://player.vimeo.com/video/".concat(t,"?title=0&byline=0&portrait=0&badge=0&autopause=0&player_id=0&dnt=1&controls=1&transparent=0"),type:"iframe"}}if(e.includes("rutube.ru")){let t=null===(o=e.split("rutube.ru/video/")[1])||void 0===o?void 0:o.split("?")[0];return t||(t=null===(n=e.split("rutube.ru/play/embed/")[1])||void 0===n?void 0:n.split("?")[0]),{embedUrl:"https://rutube.ru/play/embed/".concat(t),type:"iframe"}}if(e.includes("vk.com/video")){let t=e.match(/video(-?\d+)_(\d+)/);if(t){let[,e,r]=t;return{embedUrl:"https://vk.com/video_ext.php?oid=".concat(e,"&id=").concat(r),type:"iframe"}}}if(e.includes("dzen.ru")){let t=(null===(a=e.split("dzen.ru/video/watch/")[1])||void 0===a?void 0:a.split("?")[0])||(null===(i=e.split("dzen.ru/embed/")[1])||void 0===i?void 0:i.split("?")[0]);if(t)return{embedUrl:"https://dzen.ru/embed/".concat(t),type:"iframe"}}return e.includes("t.me"),{embedUrl:e,type:"iframe"}}(e.contentPath);t.embedUrl=r,t.videoType=s}return t})),x(0))},[o]),!n||!o)return null;let g=o.exerciseName||"",v=o.marathonExerciseName||"",f=o.exerciseDescription||o.description||"";f&&(f=f.replace(/[\u{1F600}-\u{1F64F}\u{1F300}-\u{1F5FF}\u{1F680}-\u{1F6FF}\u{1F700}-\u{1F77F}\u{1F780}-\u{1F7FF}\u{1F800}-\u{1F8FF}\u{1F900}-\u{1F9FF}\u{1FA00}-\u{1FA6F}\u{1FA70}-\u{1FAFF}\u{2600}-\u{26FF}\u{2700}-\u{27BF}](?:\u{FE0F}|\u{200D}[\u{1F3FB}-\u{1F3FF}]?)?/gu,e=>e.replace(/[\uFE0F\u200D]/g,"")));let j=o.type||"",y=o.duration||0,N=m.filter(e=>!e.loadError),k=N[p],C=e=>{h(t=>t.map((t,r)=>r===e?{...t,loadError:!0}:t))};return(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm md:p-4",children:(0,s.jsxs)("div",{className:"relative w-full h-full md:max-w-3xl md:max-h-[90vh] md:h-auto bg-white md:rounded-2xl shadow-2xl overflow-hidden flex flex-col",children:[(0,s.jsx)("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white p-3 md:p-4 flex-shrink-0",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1 pr-2",children:[(0,s.jsx)("h2",{className:"text-lg md:text-xl font-bold mb-0.5",children:g}),v&&(0,s.jsx)("p",{className:"text-sm text-purple-100",children:v}),(j||y>0)&&(0,s.jsxs)("div",{className:"flex items-center space-x-2 mt-2 text-xs",children:[j&&(0,s.jsx)("span",{className:"flex items-center space-x-1 bg-white/20 px-2 py-0.5 rounded-full",children:(0,s.jsx)("span",{children:"Video"===j?"Видео":"Reading"===j?"Теория":"Практика"})}),y>0&&(0,s.jsx)("span",{className:"flex items-center space-x-1 bg-white/20 px-2 py-0.5 rounded-full",children:(0,s.jsxs)("span",{children:[Math.floor(y/60)," мин"]})})]})]}),i&&(0,s.jsx)("button",{onClick:()=>i(!d),className:"flex-shrink-0 w-6 h-6 rounded-md border-2 border-white/50 hover:border-white transition-colors flex items-center justify-center mr-2","aria-label":d?"Отметить как невыполненное":"Отметить как выполненное",children:d&&(0,s.jsx)("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),(0,s.jsx)("button",{onClick:a,className:"flex-shrink-0 p-1.5 hover:bg-white/10 rounded-lg transition-colors","aria-label":"Закрыть",children:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto",children:[N.length>0&&(0,s.jsx)("div",{className:"flex flex-col items-center bg-purple-50 py-4",children:(0,s.jsx)("div",{className:"w-full max-w-[400px] px-4 md:px-0",children:(0,s.jsxs)("div",{className:"relative w-full",children:[(null==k?void 0:k.type)==="image"&&(0,s.jsx)("div",{className:"absolute top-4 left-4 right-4 z-10",children:(0,s.jsxs)("div",{className:"bg-purple-600/95 text-white text-sm px-4 py-2.5 rounded-lg text-center shadow-lg",children:[(0,s.jsx)("p",{className:"font-semibold mb-1",children:"\uD83D\uDCA1 Основное движение"}),(0,s.jsxs)("p",{className:"text-xs opacity-90",children:["Ознакомьтесь с видео инструкцией",N.length>1&&", нажмите на стрелочку вправо"]})]})}),k&&(0,s.jsx)("div",{className:"w-full",children:"video"===k.type?"video"===k.videoType?(0,s.jsx)("video",{src:k.embedUrl,controls:!0,controlsList:"nodownload nofullscreen noremoteplayback",disablePictureInPicture:!0,className:"w-full aspect-square object-contain bg-white rounded-lg",playsInline:!0,onError:()=>C(p),onContextMenu:e=>e.preventDefault()}):(0,s.jsxs)("div",{className:"jsx-100156e96e85fe95 w-full aspect-square bg-white rounded-lg overflow-hidden relative",children:[(0,s.jsx)("iframe",{src:k.embedUrl,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,onError:()=>C(p),className:"jsx-100156e96e85fe95 w-full h-full"}),(0,s.jsx)("div",{style:{height:"20%",zIndex:10},onClick:e=>e.stopPropagation(),className:"jsx-100156e96e85fe95 absolute top-0 left-0 right-0 pointer-events-auto bg-transparent"}),(null===(t=k.embedUrl)||void 0===t?void 0:t.includes("youtube.com"))?(0,s.jsx)("div",{style:{right:"48px",width:"100px",height:"48px",zIndex:10},onClick:e=>e.stopPropagation(),className:"jsx-100156e96e85fe95 absolute bottom-0 pointer-events-auto bg-transparent"}):(null===(r=k.embedUrl)||void 0===r?void 0:r.includes("vimeo.com"))?(0,s.jsx)("div",{style:{width:"80px",height:"80px",zIndex:10},onClick:e=>e.stopPropagation(),className:"jsx-100156e96e85fe95 absolute bottom-0 right-0 pointer-events-auto bg-transparent"}):null,(0,s.jsx)(w(),{id:"100156e96e85fe95",children:'.vp-sidedock,.vp-title,.vp-byline,.vp-portrait,.vp-badge,.vp-sidedock-button{display:none!important;opacity:0!important;visibility:hidden!important}iframe[src*="youtube.com"] .ytp-title,iframe[src*="youtube.com"] .ytp-chrome-top,iframe[src*="youtube.com"] .ytp-show-cards-title,iframe[src*="youtube.com"] .ytp-watermark{display:none!important;pointer-events:none!important}'})]}):(0,s.jsx)("div",{className:"w-full aspect-square flex items-center justify-center bg-white rounded-lg p-4",children:(0,s.jsx)("div",{className:"relative w-1/2 h-1/2",children:(0,s.jsx)(b(),{src:k.contentPath,alt:g,fill:!0,className:"object-contain",onError:()=>C(p)})})})},k.id),N.length>1&&(0,s.jsxs)(s.Fragment,{children:[p>0&&(0,s.jsx)("button",{onClick:()=>{x(e=>Math.max(0,e-1))},className:"absolute left-2 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-2 rounded-full transition-all z-10","aria-label":"Предыдущее",children:(0,s.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),p<N.length-1&&(0,s.jsx)("button",{onClick:()=>{x(e=>Math.min(N.length-1,e+1))},className:"absolute right-2 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-2 rounded-full transition-all z-10","aria-label":"Следующее",children:(0,s.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),(0,s.jsx)("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-2 z-10",children:N.map((e,t)=>(0,s.jsx)("button",{onClick:()=>x(t),className:"w-2 h-2 rounded-full transition-all ".concat(t===p?"bg-white w-6":"bg-white/50 hover:bg-white/75"),"aria-label":"Перейти к ".concat(t+1)},t))})]})]})})}),f&&(0,s.jsx)("div",{className:"p-4 md:p-6",children:(0,s.jsx)("div",{className:"prose prose-sm max-w-none prose-headings:text-purple-900 prose-headings:font-bold prose-p:text-gray-700 prose-p:leading-relaxed prose-a:text-purple-600 prose-a:no-underline hover:prose-a:underline prose-strong:text-gray-900 prose-strong:font-semibold prose-ul:list-disc prose-ol:list-decimal prose-li:text-gray-700 prose-li:my-1 prose-blockquote:border-l-4 prose-blockquote:border-purple-400 prose-blockquote:pl-4 prose-blockquote:italic",dangerouslySetInnerHTML:{__html:f}})}),(0,s.jsxs)("div",{className:"border-t border-gray-200 bg-gray-50",children:[(0,s.jsxs)("button",{onClick:()=>u(!c),className:"w-full px-4 md:px-6 py-3 flex items-center justify-between hover:bg-gray-100 transition-colors",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("svg",{className:"w-5 h-5 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),(0,s.jsx)("span",{className:"text-base font-semibold text-gray-900",children:"Комментарии"}),(0,s.jsx)("span",{className:"text-sm text-gray-500",children:"(скоро)"})]}),(0,s.jsx)("svg",{className:"w-5 h-5 text-gray-500 transition-transform ".concat(c?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),c&&(0,s.jsx)("div",{className:"px-4 md:px-6 pb-6 pt-2",children:(0,s.jsx)("div",{className:"text-sm text-gray-500 text-center py-8 bg-white rounded-lg border border-gray-200",children:"\uD83D\uDCDD Раздел комментариев будет доступен в следующей версии"})})]})]}),(0,s.jsx)("div",{className:"flex-shrink-0 border-t border-gray-200 px-4 md:px-6 py-3 bg-white",children:(0,s.jsx)("button",{onClick:a,className:"w-full px-6 py-2.5 bg-purple-600 text-white font-medium rounded-lg hover:bg-purple-700 transition-colors",children:"Закрыть"})})]})})}function M(){let{courseId:e,dayId:t}=(0,o.useRouter)().query,r=(0,n.T)(),d=(0,n.C)(a.MK),c=(0,n.C)(a.z6),u=(0,n.C)(a.hV),p=(0,n.C)(a.b0),x=(0,n.C)(a.ay),[m,h]=(0,l.useState)(()=>{let e={};return d.forEach(t=>{e[t.id]=!0}),e}),[g,v]=(0,l.useState)(null),[f,j]=(0,l.useState)(!1);(0,l.useEffect)(()=>{j(!0)},[]);let y=(e,t)=>{e.blockExercise||(console.log("\uD83D\uDCF1 Banner clicked - opening modal for:",e.exerciseName),v(e))},w=(e,t)=>{if(console.log("✅ Checkbox clicked - changing status for:",e.exerciseName),e.blockExercise||u[t])return;let s=void 0!==p[t]?p[t]:e.isDone;r((0,i.R$)({marathonExerciseId:e.marathonExerciseId,status:!s,dayId:(null==x?void 0:x.id)||"",uniqueId:t}))},N=e=>{v(e)},k=e=>{h(t=>({...t,[e]:!t[e]}))};return d&&0!==d.length?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[(0,s.jsx)("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-4",children:(0,s.jsx)("h2",{className:"text-xl font-bold",children:"План дня"})}),(0,s.jsx)("div",{className:"divide-y divide-gray-200",children:d.map(e=>{let t=m[e.id];return(0,s.jsxs)("div",{className:"bg-white",children:[(0,s.jsxs)("button",{onClick:()=>k(e.id),className:"w-full px-6 py-4 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[e.imagePath&&(0,s.jsx)("div",{className:"relative w-10 h-10 flex-shrink-0",children:(0,s.jsx)(b(),{src:e.imagePath,alt:e.categoryName,fill:!0,className:"object-contain"})}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.categoryName})]}),(0,s.jsx)("svg",{className:"w-6 h-6 text-gray-400 transition-transform ".concat(t?"transform rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t&&(0,s.jsx)("div",{className:"px-0 sm:px-6 pb-4 space-y-2",children:e.exercises.map((t,r)=>{let l="".concat(r,"-").concat(e.id,"-").concat(t.id),o=c===l,n=void 0!==p[l]?p[l]:t.isDone,a=u[l];return(0,s.jsx)(P,{exercise:t,uniqueId:l,isActive:o,isDone:n,isChanging:a,onToggle:()=>y(t,l),onCheck:()=>w(t,l),onDetailClick:()=>N(t)},l)})})]},e.id)})})]}),f&&g&&(0,s.jsx)(L,{exercise:g,isOpen:!0,onClose:()=>{console.log("\uD83D\uDD34 Closing modal"),v(null)},onCheckboxChange:e=>{let t=d.find(e=>e.exercises.some(e=>e.id===g.id));if(t){let e=t.exercises.findIndex(e=>e.id===g.id),r="".concat(e,"-").concat(t.id,"-").concat(g.id);w(g,r)}},isDone:(()=>{let e=d.find(e=>e.exercises.some(e=>e.id===g.id));if(e){let t=e.exercises.findIndex(e=>e.id===g.id),r="".concat(t,"-").concat(e.id,"-").concat(g.id);return void 0!==p[r]?p[r]:g.isDone}return g.isDone})()})]}):(0,s.jsx)("div",{className:"bg-white rounded-2xl shadow-lg p-8 text-center",children:(0,s.jsx)("p",{className:"text-gray-500",children:"На этот день упражнения не запланированы"})})}var E=r(440);function _(){let e=(0,o.useRouter)(),{courseId:t,dayId:r}=e.query,d=(0,n.T)(),c=(0,n.C)(a._R),u=(0,n.C)(a.LV),p=(0,n.C)(a.Rc),x=(0,n.C)(a.ay);if((0,l.useEffect)(()=>(t&&r&&"string"==typeof t&&"string"==typeof r&&d((0,i.JL)({marathonId:t,dayId:r})),()=>{d((0,i.M$)())}),[t,r,d]),u)return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-pink-50 to-purple-50",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-purple-600 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Загрузка дня..."})]})});if(p){let t=p.includes("Order not found")||p.includes("400");return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-pink-50 to-purple-50",children:(0,s.jsxs)("div",{className:"text-center max-w-md mx-auto px-4",children:[(0,s.jsx)("div",{className:"text-6xl mb-4",children:t?"\uD83D\uDD12":"\uD83D\uDE1E"}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:t?"Курс недоступен":"Ошибка загрузки"}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:t?"Этот курс доступен только после покупки. Вернитесь на страницу курсов и приобретите курс, чтобы получить доступ к его содержимому.":p}),(0,s.jsxs)("div",{className:"flex gap-3 justify-center",children:[(0,s.jsx)("button",{onClick:()=>e.push("/courses"),className:"px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:t?"К курсам":"Вернуться"}),t&&(0,s.jsx)("button",{onClick:()=>e.back(),className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Назад"})]})]})})}return c&&x?(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 to-purple-50",children:[(0,s.jsx)(j,{}),(0,s.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-6 space-y-6",children:[(0,s.jsx)(F,{}),(0,s.jsx)(M,{}),t&&"string"==typeof t&&(null==x?void 0:x.id)&&(0,s.jsx)(E.Z,{marathonId:t,currentDayId:x.id})]})]}):null}},7796:function(e,t,r){"use strict";r.d(t,{JB:function(){return m},Kh:function(){return p},LJ:function(){return x},aJ:function(){return d},gi:function(){return h},h3:function(){return v},ks:function(){return i},sy:function(){return n},z5:function(){return b}});var s=r(8697);let l=e=>e.courses,o=(0,s.P1)([l],e=>e.myOrders),n=o,a=(0,s.P1)([o],e=>e.filter(e=>"Approved"===e.orderStatus||"Active"===e.status||!0===e.isPurchased)),i=(0,s.P1)([l],e=>e.loadingOrders);(0,s.P1)([l],e=>e.ordersError);let d=(0,s.P1)([l],e=>e.activatingOrderId),c=(0,s.P1)([l],e=>e.availableCourses),u=(0,s.P1)([l],e=>e.demoCourses);(0,s.P1)([c,u],(e,t)=>[...e,...t]);let p=(0,s.P1)([l],e=>e.selectedLanguage),x=(0,s.P1)([c,p],(e,t)=>e.filter(e=>e.languageCulture===t)),m=(0,s.P1)([u,p],(e,t)=>e.filter(e=>e.languageCulture===t)),h=(0,s.P1)([l],e=>e.loadingCourses);(0,s.P1)([l],e=>e.coursesError);let b=(0,s.P1)([l],e=>e.selectedCourse);(0,s.P1)([l],e=>e.coursePlans),(0,s.P1)([l],e=>e.loadingDetails),(0,s.P1)([l],e=>e.detailsError);let g=(0,s.P1)([l],e=>e.marathons);(0,s.P1)([l],e=>e.loadingMarathon),(0,s.P1)([l],e=>e.marathonError);let v=(0,s.P1)([a,g],(e,t)=>e.map(e=>{var r,s,l;let o=e.wpMarathonId||e.marathonId||e.id;return{...e,marathonId:o,marathon:t[o],progress:(null===(r=t[o])||void 0===r?void 0:r.progress)||0,completedDays:(null===(s=t[o])||void 0===s?void 0:s.completedDays)||0,totalDays:(null===(l=t[o])||void 0===l?void 0:l.totalDays)||e.days||0}}))},5689:function(e,t,r){"use strict";r.d(t,{LV:function(){return n},MK:function(){return d},Rc:function(){return a},_R:function(){return o},ay:function(){return i},b0:function(){return u},cx:function(){return x},h6:function(){return m},hV:function(){return c},z6:function(){return p}});var s=r(8697);let l=e=>e.dayReducer,o=(0,s.P1)(l,e=>e.currentDay),n=(0,s.P1)(l,e=>e.loading),a=(0,s.P1)(l,e=>e.error),i=(0,s.P1)(o,e=>(null==e?void 0:e.marathonDay)||null),d=(0,s.P1)(i,e=>(null==e?void 0:e.dayCategories)||[]),c=(0,s.P1)(l,e=>e.changingStatusRequests),u=(0,s.P1)(l,e=>e.updatedExercisesStatus),p=(0,s.P1)(l,e=>e.activeExerciseId),x=(0,s.P1)(o,e=>(null==e?void 0:e.title)||""),m=(0,s.P1)(l,e=>e.marathonData)}},function(e){e.O(0,[675,505,888,774,179],function(){return e(e.s=694)}),_N_E=e.O()}]);